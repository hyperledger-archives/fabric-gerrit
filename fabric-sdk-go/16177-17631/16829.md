<strong>Project</strong>: fabric-sdk-go<br><strong>Branch</strong>: master<br><strong>ID</strong>: 16829<br><strong>Subject</strong>: [FAB-7729] Cleanup SDK options<br><strong>Status</strong>: MERGED<br><strong>Owner</strong>: Troy Ronda - troy@troyronda.com<br><strong>Assignee</strong>:<br><strong>Created</strong>: 1/14/2018, 7:14:49 PM<br><strong>LastUpdated</strong>: 1/18/2018, 1:52:14 PM<br><strong>CommitMessage</strong>:<br><pre>[FAB-7729] Cleanup SDK options

Change-Id: I27a2d56f6f0e54f7295390a31d847ab4e6d752c5
Signed-off-by: Troy Ronda <troy@troyronda.com>
</pre><h1>Comments</h1><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 1/14/2018, 7:14:49 PM<br><strong>Message</strong>: <pre>Uploaded patch set 1.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/14/2018, 7:15:00 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/937/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/14/2018, 7:16:15 PM<br><strong>Message</strong>: <pre>Patch Set 1:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/1061/ (2/2)</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 1/14/2018, 7:34:05 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(3 comments)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/14/2018, 7:35:47 PM<br><strong>Message</strong>: <pre>Patch Set 1: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/1061/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/1061

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/937/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/937</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 1/14/2018, 9:02:39 PM<br><strong>Message</strong>: <pre>Patch Set 1: Code-Review-2</pre><strong>Reviewer</strong>: Emil Nikolov - emil.e.nikolov@gmail.com<br><strong>Reviewed</strong>: 1/15/2018, 12:35:06 PM<br><strong>Message</strong>: <pre>Patch Set 1:

(1 comment)</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 1/15/2018, 12:43:47 PM<br><strong>Message</strong>: <pre>Uploaded patch set 2.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2018, 12:43:55 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/938/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2018, 12:47:35 PM<br><strong>Message</strong>: <pre>Patch Set 2:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/1062/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/15/2018, 1:10:27 PM<br><strong>Message</strong>: <pre>Patch Set 2: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/1062/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/1062

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/938/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/938</pre><strong>Reviewer</strong>: Emil Nikolov - emil.e.nikolov@gmail.com<br><strong>Reviewed</strong>: 1/15/2018, 2:14:15 PM<br><strong>Message</strong>: <pre>Patch Set 2:

(1 comment)</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 1/15/2018, 2:38:49 PM<br><strong>Message</strong>: <pre>Patch Set 2:

(1 comment)</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 1/16/2018, 4:03:42 PM<br><strong>Message</strong>: <pre>Uploaded patch set 3.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/16/2018, 4:03:50 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/947/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/16/2018, 4:06:13 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/1071/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/16/2018, 4:28:21 PM<br><strong>Message</strong>: <pre>Patch Set 3: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/1071/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/1071

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/947/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/947</pre><strong>Reviewer</strong>: Emil Nikolov - emil.e.nikolov@gmail.com<br><strong>Reviewed</strong>: 1/16/2018, 6:47:04 PM<br><strong>Message</strong>: <pre>Patch Set 3:

(1 comment)</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 1/16/2018, 8:45:41 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Yes - I had thought the same but then would need to export fabsdk.options.
i.e., 

return func(opts *fabsdk.Options) error {
...
}

Perhaps it's still better to export fabsdk.options rather than create this ErrorAsOpt function...</pre><strong>Reviewer</strong>: Emil Nikolov - emil.e.nikolov@gmail.com<br><strong>Reviewed</strong>: 1/16/2018, 9:09:28 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Hmm, shouldn't all functional options of a constructor reside in the same package as the constructor itself? orderer.FromOrdererConfig() is in the orderer package, despite being built from apiconfig.OrdererConfig.</pre><strong>Reviewer</strong>: Emil Nikolov - emil.e.nikolov@gmail.com<br><strong>Reviewed</strong>: 1/16/2018, 9:18:16 PM<br><strong>Message</strong>: <pre>Patch Set 3:

Or maybe WithConfigFile should be a functional option of PkgSuite itself, and PkgSuite should contain the config as well?</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 1/16/2018, 9:20:26 PM<br><strong>Message</strong>: <pre>Uploaded patch set 4.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/16/2018, 9:20:35 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/954/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/16/2018, 9:21:25 PM<br><strong>Message</strong>: <pre>Patch Set 4:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/1078/ (2/2)</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 1/16/2018, 9:26:11 PM<br><strong>Message</strong>: <pre>Patch Set 4:

I'm down the current rabbit hole as I wasn't excited about the aesthetics of requiring nested constructors for fabsdk.New :).</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/16/2018, 9:48:19 PM<br><strong>Message</strong>: <pre>Patch Set 4: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/1078/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/1078

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/954/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/954</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 1/17/2018, 10:04:51 PM<br><strong>Message</strong>: <pre>Uploaded patch set 5.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2018, 10:05:00 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/974/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2018, 10:06:40 PM<br><strong>Message</strong>: <pre>Patch Set 5:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/1097/ (2/2)</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 1/17/2018, 10:09:04 PM<br><strong>Message</strong>: <pre>Uploaded patch set 6.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2018, 10:09:15 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/975/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2018, 10:09:42 PM<br><strong>Message</strong>: <pre>Patch Set 5: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/1097/ : ABORTED

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/1097/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/1097

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/974/ : ABORTED

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/974/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/974</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2018, 10:12:04 PM<br><strong>Message</strong>: <pre>Patch Set 6:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/1098/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/17/2018, 10:41:29 PM<br><strong>Message</strong>: <pre>Patch Set 6: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/1098/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/1098

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/975/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/975</pre><strong>Reviewer</strong>: Emil Nikolov - emil.e.nikolov@gmail.com<br><strong>Reviewed</strong>: 1/17/2018, 11:54:29 PM<br><strong>Message</strong>: <pre>Patch Set 6:

(1 comment)</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 1/18/2018, 8:30:30 AM<br><strong>Message</strong>: <pre>Patch Set 6:

Since passing nil here is a programmer error, perhaps I should just delete the check and allow the panic to happen. Since there is nothing to handle, Iâ€™m not sure that using the reflect package is worth it.</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 1/18/2018, 12:06:54 PM<br><strong>Message</strong>: <pre>Uploaded patch set 7.</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/18/2018, 12:07:07 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/976/ (1/2)</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 1/18/2018, 12:10:07 PM<br><strong>Message</strong>: <pre>Removed Code-Review-2 by Troy Ronda <troy@troyronda.com>
</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/18/2018, 12:11:25 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/1099/ (2/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/18/2018, 12:27:30 PM<br><strong>Message</strong>: <pre>Patch Set 7: Verified-1

Build Failed 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/1099/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/1099/ )

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/1099

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/976/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/976</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 1/18/2018, 12:35:48 PM<br><strong>Message</strong>: <pre>Patch Set 7:

rebuild-x</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 1/18/2018, 12:46:13 PM<br><strong>Message</strong>: <pre>Patch Set 7:

reverify</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/18/2018, 12:46:23 PM<br><strong>Message</strong>: <pre>Patch Set 7: -Verified

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/979/ (1/2)</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/18/2018, 12:49:25 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Started https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/1102/ (2/2)</pre><strong>Reviewer</strong>: Bob Stasyszyn - bob.stasyszyn@securekey.com<br><strong>Reviewed</strong>: 1/18/2018, 12:57:40 PM<br><strong>Message</strong>: <pre>Patch Set 7: Code-Review+1</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/18/2018, 1:12:49 PM<br><strong>Message</strong>: <pre>Patch Set 7: Verified+1

Build Successful 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-x86_64/1102/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/1102

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-verify-s390x/979/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-s390x/979</pre><strong>Reviewer</strong>: Troy Ronda - troy@troyronda.com<br><strong>Reviewed</strong>: 1/18/2018, 1:16:25 PM<br><strong>Message</strong>: <pre>Patch Set 7:

(1 comment)</pre><strong>Reviewer</strong>: Firas Qutishat - firas.qutishat@securekey.com<br><strong>Reviewed</strong>: 1/18/2018, 1:22:29 PM<br><strong>Message</strong>: <pre>Patch Set 7: Code-Review+2</pre><strong>Reviewer</strong>: Firas Qutishat - firas.qutishat@securekey.com<br><strong>Reviewed</strong>: 1/18/2018, 1:22:31 PM<br><strong>Message</strong>: <pre>Change has been successfully merged by Firas Qutishat</pre><strong>Reviewer</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Reviewed</strong>: 1/18/2018, 1:52:14 PM<br><strong>Message</strong>: <pre>Patch Set 7:

Build Successful 

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-merge-x86_64/275/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-merge-x86_64/275

https://jenkins.hyperledger.org/job/fabric-sdk-go-tests-merge-s390x/222/ : SUCCESS

Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-merge-s390x/222</pre><h1>PatchSets</h1><h3>PatchSet Number: 1</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Troy Ronda - troy@troyronda.com<br><strong>Uploader</strong>: Troy Ronda - troy@troyronda.com<br><strong>Created</strong>: 1/14/2018, 7:14:49 PM<br><strong>UnmergedRevision</strong>: [476a5ec46031600bf2c7e2ffe65151ccbd239780](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/commit/476a5ec46031600bf2c7e2ffe65151ccbd239780)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/14/2018, 7:35:47 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Troy Ronda - troy@troyronda.com<br><strong>Approved</strong>: 1/14/2018, 9:02:39 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Troy Ronda - troy@troyronda.com<br><strong>CommentLine</strong>: [pkg/fabsdk/fabsdk.go#L41](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/476a5ec46031600bf2c7e2ffe65151ccbd239780/pkg/fabsdk/fabsdk.go#L41)<br><strong>Comment</strong>: <pre>to reduce stutter (instead of fabsdk.SDKOption)</pre><strong>Commenter</strong>: Troy Ronda - troy@troyronda.com<br><strong>CommentLine</strong>: [pkg/fabsdk/fabsdk.go#L68](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/476a5ec46031600bf2c7e2ffe65151ccbd239780/pkg/fabsdk/fabsdk.go#L68)<br><strong>Comment</strong>: <pre>Not sure about the right prefix.
No prefix also makes sense to me and is shorter.</pre><strong>Commenter</strong>: Emil Nikolov - emil.e.nikolov@gmail.com<br><strong>CommentLine</strong>: [pkg/fabsdk/fabsdk.go#L68](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/476a5ec46031600bf2c7e2ffe65151ccbd239780/pkg/fabsdk/fabsdk.go#L68)<br><strong>Comment</strong>: <pre>Doesn't it make more sense for the SDK to only have a functional option FromConfigProvider(), and then the caller having the responsibility of loading that config from wherever he pleases, be it from a file, or supplying his own implementation of ConfigProvider?</pre><strong>Commenter</strong>: Troy Ronda - troy@troyronda.com<br><strong>CommentLine</strong>: [pkg/fabsdk/fabsdk.go#L75](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/476a5ec46031600bf2c7e2ffe65151ccbd239780/pkg/fabsdk/fabsdk.go#L75)<br><strong>Comment</strong>: <pre>same here.</pre></blockquote><h3>PatchSet Number: 2</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Troy Ronda - troy@troyronda.com<br><strong>Uploader</strong>: Troy Ronda - troy@troyronda.com<br><strong>Created</strong>: 1/15/2018, 12:43:47 PM<br><strong>UnmergedRevision</strong>: [df17252a1b2922a169fe4947857036a7a6e29cc3](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/commit/df17252a1b2922a169fe4947857036a7a6e29cc3)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/15/2018, 1:10:27 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Troy Ronda - troy@troyronda.com<br><strong>Approved</strong>: 1/14/2018, 9:02:39 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Emil Nikolov - emil.e.nikolov@gmail.com<br><strong>CommentLine</strong>: [pkg/fabsdk/fabsdk.go#L72](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/df17252a1b2922a169fe4947857036a7a6e29cc3/pkg/fabsdk/fabsdk.go#L72)<br><strong>Comment</strong>: <pre>Doesn't it make more sense for the SDK to only have a functional option FromConfigProvider(), and then the caller having the responsibility of loading that config from wherever he pleases, be it from a file, or supplying his own implementation of ConfigProvider?</pre><strong>Commenter</strong>: Troy Ronda - troy@troyronda.com<br><strong>CommentLine</strong>: [pkg/fabsdk/fabsdk.go#L72](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/df17252a1b2922a169fe4947857036a7a6e29cc3/pkg/fabsdk/fabsdk.go#L72)<br><strong>Comment</strong>: <pre>Probably. I'm thinking about a few issues on this one.

(1) How the GoDoc will look and how to make this obvious.
(2) We already have a pkgsuite concept and opts may make sense in there.
(3) How many imports are needed to instantiate the SDK (partially due to 2).
(4) The pkg suite option should probably be FromPkgSuite (which has some similarity to FromConfigProvider).
(5) The best way for the SDK user to pass opts to the FromPkgSuite (or FromConfigProvider).</pre></blockquote><h3>PatchSet Number: 3</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Troy Ronda - troy@troyronda.com<br><strong>Uploader</strong>: Troy Ronda - troy@troyronda.com<br><strong>Created</strong>: 1/16/2018, 4:03:42 PM<br><strong>UnmergedRevision</strong>: [3088c67770b5a1698a0cb0d7d95fbfda9a0bd3ed](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/commit/3088c67770b5a1698a0cb0d7d95fbfda9a0bd3ed)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/16/2018, 4:28:21 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Troy Ronda - troy@troyronda.com<br><strong>Approved</strong>: 1/14/2018, 9:02:39 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Emil Nikolov - emil.e.nikolov@gmail.com<br><strong>CommentLine</strong>: [def/pkgsuite/defpkgsuite/pkgsuite.go#L28](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/3088c67770b5a1698a0cb0d7d95fbfda9a0bd3ed/def/pkgsuite/defpkgsuite/pkgsuite.go#L28)<br><strong>Comment</strong>: <pre>I think instead of using fabsdk.ErrorAsOpt, it might be better to do something like this:


func WithConfigFile(name string) fabsdk.Option {
	return func(opts *options) error {
		config, err := configImpl.InitConfig(name)
	
		if err != nil {
			return errors.WithMessage(err, "Unable to initialize configuration")
		}
		
		return fabsdk.WithConfig(config)(opts)
	}
}</pre></blockquote><h3>PatchSet Number: 4</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Troy Ronda - troy@troyronda.com<br><strong>Uploader</strong>: Troy Ronda - troy@troyronda.com<br><strong>Created</strong>: 1/16/2018, 9:20:26 PM<br><strong>UnmergedRevision</strong>: [0795f22bdec220241f45fc7695b54b09260d5641](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/commit/0795f22bdec220241f45fc7695b54b09260d5641)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/16/2018, 9:48:19 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Troy Ronda - troy@troyronda.com<br><strong>Approved</strong>: 1/14/2018, 9:02:39 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 5</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Troy Ronda - troy@troyronda.com<br><strong>Uploader</strong>: Troy Ronda - troy@troyronda.com<br><strong>Created</strong>: 1/17/2018, 10:04:51 PM<br><strong>UnmergedRevision</strong>: [aed571e86f67bf3d0cd5e199140f635dea6e2170](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/commit/aed571e86f67bf3d0cd5e199140f635dea6e2170)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/17/2018, 10:09:42 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: -1<br><br><strong>Approver</strong>: Troy Ronda - troy@troyronda.com<br><strong>Approved</strong>: 1/14/2018, 9:02:39 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br></blockquote><h3>PatchSet Number: 6</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Troy Ronda - troy@troyronda.com<br><strong>Uploader</strong>: Troy Ronda - troy@troyronda.com<br><strong>Created</strong>: 1/17/2018, 10:09:04 PM<br><strong>UnmergedRevision</strong>: [13f3cccd62cccb0dd814aa557772b15f6badba4a](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/commit/13f3cccd62cccb0dd814aa557772b15f6badba4a)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/17/2018, 10:41:29 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Troy Ronda - troy@troyronda.com<br><strong>Approved</strong>: 1/14/2018, 9:02:39 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: -1<br><br><h2>Comments</h2><strong>Commenter</strong>: Emil Nikolov - emil.e.nikolov@gmail.com<br><strong>CommentLine</strong>: [pkg/fabsdk/fabsdk.go#L109](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/13f3cccd62cccb0dd814aa557772b15f6badba4a/pkg/fabsdk/fabsdk.go#L109)<br><strong>Comment</strong>: <pre>Not sure if it is important, but in Go comparing an interface to nil can be a bit weird.

Example: 
https://play.golang.org/p/DsKGXYJk567

Discussion:
https://stackoverflow.com/questions/13476349/check-for-nil-and-nil-interface-in-go

Maybe to be safe, we should use:
if configProvider == nil ||  reflect.ValueOf(configProvider).IsNil()</pre></blockquote><h3>PatchSet Number: 7</h3><blockquote><strong>Type</strong>: REWORK<br><strong>Author</strong>: Troy Ronda - troy@troyronda.com<br><strong>Uploader</strong>: Troy Ronda - troy@troyronda.com<br><strong>Created</strong>: 1/18/2018, 12:06:54 PM<br><strong>GitHubMergedRevision</strong>: [ed3dc93efc79c7d9627707b61e79d747c74132e4](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/commit/ed3dc93efc79c7d9627707b61e79d747c74132e4)<br><br><strong>Approver</strong>: Hyperledger Jobbuilder - jobbuilder@jenkins.hyperledger.org<br><strong>Approved</strong>: 1/18/2018, 1:12:49 PM<br><strong>Type</strong>: Verified<br><strong>Value</strong>: 1<br><br><strong>Approver</strong>: Firas Qutishat - firas.qutishat@securekey.com<br><strong>Approved</strong>: 1/18/2018, 1:22:29 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><strong>MergedBy</strong>: Firas Qutishat<br><strong>Merged</strong>: 1/18/2018, 1:22:31 PM<br><br><strong>Approver</strong>: Bob Stasyszyn - bob.stasyszyn@securekey.com<br><strong>Approved</strong>: 1/18/2018, 12:57:40 PM<br><strong>Type</strong>: Code-Review<br><strong>Value</strong>: 1<br><br><h2>Comments</h2><strong>Commenter</strong>: Troy Ronda - troy@troyronda.com<br><strong>CommentLine</strong>: [pkg/fabsdk/fabsdk_test.go#L19](https://github.com/hyperledger-gerrit-archive/fabric-sdk-go/blob/ed3dc93efc79c7d9627707b61e79d747c74132e4/pkg/fabsdk/fabsdk_test.go#L19)<br><strong>Comment</strong>: <pre>The point of this test was to see if the panic happens right away :).</pre></blockquote>